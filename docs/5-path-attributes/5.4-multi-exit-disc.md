## 5.4 MULTI-EXIT-DISC
---

| **Original Text**                                                                                                                                         | **Explanation with Enhanced Clarification and Examples**                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **5.1.4. MULTI_EXIT_DISC** <br><br> The MULTI_EXIT_DISC is an optional non-transitive attribute that is intended to be used on external (inter-AS) links to discriminate among multiple exit or entry points to the same neighboring AS. The value of the MULTI_EXIT_DISC attribute is a four-octet unsigned number, called a metric. All other factors being equal, the exit point with the lower metric SHOULD be preferred. | **MULTI_EXIT_DISC Attribute Overview**: <br><br> The `MULTI_EXIT_DISC` (MED) is an **optional non-transitive attribute** used between different Autonomous Systems (ASes). It helps decide which exit or entry point to use when multiple paths to the same neighboring AS exist. <br><br> **Key Points**: <br> - MED is a **metric** represented as a four-byte unsigned integer. <br> - A **lower MED value** is preferred over a higher one, provided all other factors (e.g., LOCAL_PREF, AS_PATH) are equal. <br><br> **Example**: AS1 connects to AS2 through two links. Router A in AS1 advertises a route to Router B in AS2 with `MED = 50`. Router C advertises the same route with `MED = 100`. AS2 prefers the path through Router A because `MED = 50` is lower. |
| If received over EBGP, the MULTI_EXIT_DISC attribute MAY be propagated over IBGP to other BGP speakers within the same AS (see also 9.1.2.2). The MULTI_EXIT_DISC attribute received from a neighboring AS MUST NOT be propagated to other neighboring ASes. | **Propagation Rules for MULTI_EXIT_DISC**: <br><br> - **EBGP to IBGP**: A `MULTI_EXIT_DISC` attribute received via EBGP **may** be shared within the same AS over IBGP. This allows internal routers to consider MED for route selection. <br><br> - **EBGP to EBGP**: A `MULTI_EXIT_DISC` received from one AS **must not** be forwarded to another AS. This ensures that MED remains local to the originating AS. <br><br> **Example**: Router A (AS1) advertises a route to Router B (AS2) with `MED = 20`. Router B propagates this route to Router C (AS2) using IBGP. However, if Router B advertises the route to AS3, it does not include the `MULTI_EXIT_DISC` attribute. |
| A BGP speaker MUST implement a mechanism (based on local configuration) that allows the MULTI_EXIT_DISC attribute to be removed from a route. If a BGP speaker is configured to remove the MULTI_EXIT_DISC attribute from a route, then this removal MUST be done prior to determining the degree of preference of the route and prior to performing route selection (Decision Process phases 1 and 2). | **Removing MULTI_EXIT_DISC**: <br><br> - Routers must support the ability to remove the `MULTI_EXIT_DISC` attribute based on configuration. <br> - Removal must occur **before route preference** is calculated or route selection begins (Decision Process Phases 1 and 2). <br><br> **Example**: Router A (AS1) receives a route from AS2 with `MED = 50`. If configured, Router A removes the MED attribute before comparing it to other routes or making a routing decision. |
| An implementation MAY also (based on local configuration) alter the value of the MULTI_EXIT_DISC attribute received over EBGP. If a BGP speaker is configured to alter the value of the MULTI_EXIT_DISC attribute received over EBGP, then altering the value MUST be done prior to determining the degree of preference of the route and prior to performing route selection (Decision Process phases 1 and 2). See Section 9.1.2.2 for necessary restrictions on this. | **Altering MULTI_EXIT_DISC**: <br><br> - Routers can be configured to modify the `MULTI_EXIT_DISC` value received via EBGP. <br> - Any changes to MED must occur **before route preference** is calculated or the route selection process begins. <br><br> **Example**: Router A (AS1) receives a route from AS2 with `MED = 100`. Based on local configuration, Router A modifies the MED to `MED = 50` before comparing it to other routes. |

